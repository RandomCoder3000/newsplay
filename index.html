<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NewsPlay — Kid-Friendly Current Affairs Starter</title>

  <!-- Tailwind (CDN) for fast styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js for the time-travel data chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    .pop { transition: transform 120ms ease; }
    .pop:active { transform: scale(0.98); }
    .comic-panel { box-shadow: inset 0 0 0 3px rgba(0,0,0,0.06); }

    /* Light theme only */
    :root {
      --bg:#f8fafc; --surface:#ffffff; --text:#0f172a; --muted:#475569; --link:#4f46e5;
      --panel:rgba(2,6,23,0.02); --ring:rgba(2,6,23,0.06);
    }
    body { color: var(--text); background: linear-gradient(to bottom, #eef2ff, #ffffff); }

    /* Modal helpers */
    .modal { display:none; }
    .modal.show { display:flex; }
  </style>
</head>
<body class="min-h-screen text-slate-800">
  <!-- HEADER / NAV -->
  <header class="max-w-5xl mx-auto px-4 pt-6">
    <div class="flex items-center justify-between gap-3 flex-wrap">
      <div class="flex items-center gap-3">
        <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight">🗺️ NewsPlay <span class="text-indigo-600">Starter</span></h1>
      </div>
      <nav class="flex items-center gap-2">
        <a href="quiz.html" class="pop px-3 py-2 rounded-xl bg-indigo-100">🧠 Big Quiz</a>
        <a href="lab-sd.html" class="pop px-3 py-2 rounded-xl bg-emerald-100">⚖️ Supply & Demand Lab</a>
        <a href="lab-budget.html" class="pop px-3 py-2 rounded-xl bg-amber-100">💰 Budget Builder</a>
        <a href="create-comic.html" class="pop px-3 py-2 rounded-xl bg-pink-100">🎨 Comic Studio</a>
        <button id="open-glossary" class="pop px-3 py-2 rounded-xl bg-slate-200">📚 Glossary</button>
        <div class="hidden md:flex items-center gap-2 text-sm">
          <span class="text-slate-600">Stickers:</span>
          <div id="badge-shelf" class="flex gap-1"></div>
        </div>
      </nav>
    </div>
    <p class="mt-2 text-slate-600">
      Kid-friendly explanations of economics & current events. Choose an age, tap a card, learn by mini-comics 🎉
    </p>
  </header>

  <main class="max-w-5xl mx-auto px-4 pb-24">
    <!-- AGE SELECTOR -->
    <section class="mt-6 p-4 bg-white/70 backdrop-blur rounded-2xl shadow">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <h2 class="font-bold">Age switcher</h2>
        <div class="flex gap-2" role="tablist" aria-label="Age tiers">
          <button id="age-6-8" class="age-btn pop px-3 py-2 rounded-xl bg-indigo-600 text-white" data-tier="6_8">6–8</button>
          <button id="age-9-11" class="age-btn pop px-3 py-2 rounded-xl bg-indigo-100" data-tier="9_11">9–11</button>
          <button id="age-12-14" class="age-btn pop px-3 py-2 rounded-xl bg-indigo-100" data-tier="12_14">12–14</button>
        </div>
      </div>
      <p class="mt-2 text-sm text-slate-600">Tip: This instantly changes wording and examples everywhere.</p>
    </section>

    <!-- STORY CARDS / MINI-COMICS -->
    <section class="mt-6 grid md:grid-cols-2 gap-6">
      <!-- 1) PRICES / INFLATION (has built-in quiz) -->
      <article class="p-5 bg-white rounded-2xl shadow">
        <div class="flex items-start justify-between gap-3">
          <div>
            <h3 class="text-xl font-bold" id="story-title">Why do prices change?</h3>
            <a id="story-source" class="text-xs text-indigo-600 underline"
               href="https://en.wikipedia.org/wiki/Inflation" target="_blank" rel="noreferrer">Source link</a>
          </div>
          <div class="flex gap-2">
            <button id="btn-tts" class="pop px-3 py-2 rounded-xl bg-emerald-600 text-white" title="Read aloud">🔊 Read aloud</button>
          </div>
        </div>

        <!-- 3-panel mini-comic -->
        <div class="mt-4 grid grid-cols-3 gap-3" id="comic">
          <div class="comic-panel rounded-xl bg-orange-50 p-3" id="panel-1"></div>
          <div class="comic-panel rounded-xl bg-yellow-50 p-3" id="panel-2"></div>
          <div class="comic-panel rounded-xl bg-lime-50 p-3" id="panel-3"></div>
        </div>

        <!-- Explain-Back -->
        <div class="mt-5 p-3 rounded-xl bg-slate-50">
          <h4 class="font-semibold">Explain-Back 🎤</h4>
          <p class="text-sm text-slate-600">In 15 seconds, try to explain the
